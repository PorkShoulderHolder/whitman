whitman
=======

A Collection of the tools I made to scrape, analyse, and catalogue all of Walt Whitman's correspondence from 1860 to 1875.
And more importantly, the information I gathered in the form of text, JSON, pickle, and BSON.

Purpose
=======

The main purpose of this is to make the Whitman Correspondence data available in widely used formats and to promote the review and visualization of this unique dataset.

Aside from NE_Tagger and jsonmaker, much of the scripts will have little use outside of providing examples of screen scraping and text analysis using nltk. I included them
as a reference to where the data files came from.

My friend presented this to me as a potential project months ago when he noticed how extensive the whitmanArchives website was.


Two of the more useful objects:

##NE_Tagger

The NE_Record object takes a section of text as well as an optional text heading parameter and then performs the
relevant named entity recognition and populates its people, locations,

    >>>from NE_Tagger import NE_Record

    >>>netagger = NE_Tagger("Dear mother, the heat is awful, please let me come home to Camden, Mass", "Letter from Walt Whitman to his Mother")

    >>>print netagger.sender

    "Walt Whitman"

    >>>print netagger.locations

    ["Camden"]

etc...

##jsonmaker

The jsonmaker object provides a light wrapper for the json module to convert python objects to json/bson files

    >>>from jsonmaker import *

    >>>saveToFileAsJSON(obj,'myfile.json',readable = True)

    >>>saveToFileAsBSON(obj,'myfile.bson)


Data
====

1. whitmanData.txt is the raw csv file generated by whitmanCrawler.py, and cleanedWhitmanData.txt is a nicer version of this with 'normalized dates' associated with each letter.

2. whitmanjson.json and it's bson counterpart are the big fishes here. They are arrays of jsonized NE_Record objects, (one entry per letter), consisting of all sorts of easy to use
descriptors about the letter such as the sender, and recipient (as interpreted by my scripts), locations, geo-political entities, and more, even including the latlngs of everything that was recognized as a place.
Below is an example entry that represents one letter (the full json is an array of the letters).

##example from whitmanjson.json

    {
       "taggedHeading":[
          [
             [
                "Letter",
                "NNP"
             ],
             [
                "from",
                "IN"
             ],
             [
                [
                   "Walt",
                   "NNP"
                ],
                [
                   "Whitman",
                   "NNP"
                ]
             ],
             [
                "to",
                "TO"
             ],
             [
                [
                   "James",
                   "NNP"
                ],
                [
                   "Russell",
                   "NNP"
                ],
                [
                   "Lowell",
                   "NNP"
                ]
             ],
             [
                ",",
                ","
             ]
          ]
       ],
       "people":[
          "Dear",
          "Mr. House2",
          "Bardic Symbols",
          "Mr. House",
          "Walt WhitmanPortland",
          "Myrtle"
       ],
       "money":[

       ],
       "year":"1860",
       "locations":[

       ],
       "month":"Jan",
       "parties":[
          "Walt Whitman",
          "James Russell Lowell"
       ],
       "properDate":"Jan 20, 1860",
       "gpe":[
          "Brooklyn"
       ],
       "facility":[

       ],
       "latlngs":[
          [
             40.65,
             -73.95
          ]
       ],
       "text":"  Jan. 20, '60. Dear Sir,1 Mr. House2 inform'd me that you accepted, and would publish, my \"Bardic Symbols.\"3 If so, would you, as soon as convenient, have it put in type, and send me the proof? About the two lines:   (See from my dead lips the ooze exuding at last! See the prismatic colors glistening and rolling!)   I have in view, from them, an effect in the piece which I clearly feel, but cannot as clearly define. Though I should prefer them in, still, as I told Mr. House, I agree that you may omit them, if you decidedly wish to. Yours &c Walt WhitmanPortland av. near Myrtle | Brooklyn, N. Y. ",
       "dateText":"",
       "percents":[

       ],
       "taggedText":[
          [
             [
                "Jan.",
                "NNP"
             ],
             [
                "20",
                "CD"
             ],
             [
                ",",
                ","
             ],
             [
                "'60",
                "-NONE-"
             ],
             [
                ".",
                "."
             ]
          ],
          [
             [
                [
                   "Dear",
                   "NNP"
                ]
             ],
             [
                "Sir,1",
                "NNP"
             ],
             [
                [
                   "Mr.",
                   "NNP"
                ],
                [
                   "House2",
                   "NNP"
                ]
             ],
             [
                "inform",
                "NN"
             ],
             [
                "'d",
                "MD"
             ],
             [
                "me",
                "VB"
             ],
             [
                "that",
                "IN"
             ],
             [
                "you",
                "PRP"
             ],
             [
                "accepted",
                "VBD"
             ],

             .
             .
             .

             [
                "you",
                "PRP"
             ],
             [
                "may",
                "MD"
             ],
             [
                "omit",
                "VB"
             ],
             [
                "them",
                "PRP"
             ],
             [
                ",",
                ","
             ],
             [
                "if",
                "IN"
             ],
             [
                "you",
                "PRP"
             ],
             [
                "decidedly",
                "RB"
             ],
             [
                "wish",
                "JJ"
             ],
             [
                "to",
                "TO"
             ],
             [
                ".",
                "."
             ]
          ],
          [
             [
                "Yours",
                "NNS"
             ],
             [
                "&",
                "CC"
             ],
             [
                "c",
                "NN"
             ],
             [
                [
                   "Walt",
                   "NNP"
                ],
                [
                   "WhitmanPortland",
                   "NNP"
                ]
             ],
             [
                "av",
                "NN"
             ],
             [
                ".",
                "."
             ]
          ],
          [
             [
                "near",
                "IN"
             ],
             [
                [
                   "Myrtle",
                   "NNP"
                ]
             ],
             [
                "|",
                "NNP"
             ],
             [
                [
                   "Brooklyn",
                   "NNP"
                ]
             ],
             [
                ",",
                ","
             ],
             [
                "N.",
                "NNP"
             ],
             [
                "Y",
                "NNP"
             ],
             [
                ".",
                "."
             ]
          ]
       ],
       "sentences":[
          "  Jan. 20, '60.",
          "Dear Sir,1 Mr. House2 inform'd me that you accepted, and would publish, my \"Bardic Symbols.",
          "\"3 If so, would you, as soon as convenient, have it put in type, and send me the proof?",
          "About the two lines:   (See from my dead lips the ooze exuding at last!",
          "See the prismatic colors glistening and rolling!",
          ")   I have in view, from them, an effect in the piece which I clearly feel, but cannot as clearly define.",
          "Though I should prefer them in, still, as I told Mr. House, I agree that you may omit them, if you decidedly wish to.",
          "Yours &c Walt WhitmanPortland av.",
          "near Myrtle | Brooklyn, N. Y. "
       ],
       "words":[
          "Jan.",
          "20",
          ",",
          "'60.",
          "Dear",
          "Sir,1",
          "Mr.",
          "House2",
          "inform",
          "'d",
          "me",
          "that",
          "you",
          "accepted",

          .
          .
          .
          
          "you",
          "may",
          "omit",
          "them",
          ",",
          "if",
          "you",
          "decidedly",
          "wish",
          "to.",
          "Yours",
          "&",
          "c",
          "Walt",
          "WhitmanPortland",
          "av.",
          "near",
          "Myrtle",
          "|",
          "Brooklyn",
          ",",
          "N.",
          "Y",
          "."
       ],
       "date":[

       ],
       "normalizedTime":"0.00271997824017",
       "recipient":"James Russell Lowell",
       "organizations":[

       ],
       "sender":"Walt Whitman",
       "url":"http://www.whitmanarchive.org/biography/correspondence/cw/tei/uva.00342.html",
       "doc":{
          "headline":"doc",
          "text":""
       },
       "pastTO":true,
       "time":[

       ],
       "heading":" Letter from Walt Whitman to James Russell Lowell ,"
    }
3. The postageTrafficByYear files contain ougoing and incoming postage and word counts by year with respect to Whitman.


Visualizations
==============

I hope to add more here soon, please take advantage of the data and make some cool pictures!

